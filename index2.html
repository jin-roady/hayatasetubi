<!doctype html>
<html lang="ja">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>早田設備株式会社｜TOP</title>
  <!-- 分離したCSS -->
  <link rel="stylesheet" href="assets/css/main.css">
</head>

<body>

  <!-- ===== Masthead (Header + Hero integrated) ===== -->
  <section class="masthead" aria-labelledby="masthead-heading">
    <!-- 透過トップバー -->
    <div class="topbar container">
      <a class="brand brand--hero" href="index.html" aria-label="早田設備株式会社">
        <img src="assets/images/logo.png" alt="早田設備株式会社ロゴ" class="brand-logo" />
      </a>

      <!-- トグル＋スライドパネル -->
      <details class="menu" id="site-menu">
        <summary class="nav__toggle" aria-label="メニューを開閉">
          <span class="sr-only">メニューを開閉</span>
          <span class="burger" aria-hidden="true"><i></i><i></i><i></i></span>
        </summary>

        <div class="nav__sheet" aria-hidden="true">
          <div class="nav__backdrop"></div>
          <div class="nav__panel" role="dialog" aria-modal="true" aria-label="メニュー">
            <button class="nav__close" aria-label="メニューを閉じる">✕</button>
            <ul class="nav__list" role="list">
              <li><a class="nav__link" href="services.html">事業内容</a></li>
              <li><a class="nav__link" href="services.html#flow">施工の流れ</a></li>
              <li><a class="nav__link" href="company.html">会社案内</a></li>
              <li><a class="nav__link" href="portfolio.html">施工実績</a></li>
              <li><a class="nav__link" href="recruit.html">採用情報</a></li>
              <li><a class="nav__link" href="contact.html">お問い合わせ</a></li>
            </ul>
          </div>
        </div>
      </details>
    </div>

    <section class="fv" id="fv">
      <div class="fv__inner">
        <!-- 左右の白い面取り -->
        <span class="fv__deco fv__deco--left" aria-hidden="true"></span>
        <span class="fv__deco fv__deco--right" aria-hidden="true"></span>

        <!-- スライダー本体 -->
        <div class="fv-slider" aria-label="キービジュアル">
          <div class="fv-slides" id="fvSlides">
            <!-- slide 1 -->
            <!-- slide 1 -->
            <figure class="fv-slide mask-slide is-active" style="background-image:url('assets/images/hero-1.png')">
              <div class="ken" aria-hidden="true"></div>
            </figure>
            <!-- slide 2 -->
            <figure class="fv-slide mask-slide" style="background-image:url('assets/images/hero-2.png')">
              <div class="ken" aria-hidden="true"></div>
            </figure>
            <!-- slide 3 -->
            <figure class="fv-slide mask-slide" style="background-image:url('assets/images/hero-3.png')">
              <div class="ken" aria-hidden="true"></div>
            </figure>

          </div>
        </div>

        <!-- コピー（既存テキストのまま） -->
        <div class="fv__copy">
          <h1 class="fv__title">水と空気を通じて、<br>地域の暮らしを支える。</h1>
          <p class="fv__lead">
            人々が安心して暮らせる環境をつくること。<br>
            私たちは、水・空気・熱という見えないインフラを守り、<br>
            快適な生活空間を提供することを使命とします。
          </p>
          <a class="btn btn--primary" href="/services.html">事業内容を見る</a>
          <a class="btn btn--ghost" href="/contact.html">お問い合わせ</a>
        </div>

        <!-- 左スクロール表示 -->
        <div class="fv__scroll" aria-hidden="true">
          <span>Scroll</span><span class="fv__scroll-line"></span>
        </div>
       <!-- 右サイド飾り -->
       <aside class="fv__side" aria-label="サイド装飾">
        <span class="fv__dash" aria-hidden="true"></span>

        <!-- 吹き出し -->
        <div class="fv__balloon">
          <p>水まわりのことなら<br>おまかせください！</p>
        </div>

        <!-- マスコット画像：ハヤタくん -->
        <figure class="fv__mascot" aria-describedby="mascot-caption">
          <img src="assets/images/mascot.png" alt="ハヤタくん - 早田設備のマスコットキャラクター" width="220" height="160"
            onerror="this.style.opacity='0.3'; this.parentElement.style.outline='2px dashed #f66'; this.parentElement.title='画像を読み込めません（パス要確認）';" />
          <figcaption id="mascot-caption" class="sr-only">ハヤタくんがメッセージを伝えています。</figcaption>
        </figure>

        <!-- キャラクター名 -->
        <div class="fv__mascot-name">ハヤタくん</div>
      </aside>


        <!-- ページャ -->
        <div class="fv-pager" id="fvPager" role="tablist" aria-label="スライドナビ">
          <button class="fv-dot is-active" role="tab" aria-selected="true" aria-controls="slide1"></button>
          <button class="fv-dot" role="tab" aria-selected="false" aria-controls="slide2"></button>
          <button class="fv-dot" role="tab" aria-selected="false" aria-controls="slide3"></button>
        </div>
      </div>
    </section>

    <section class="section" aria-labelledby="about-heading">
      <div class="container about-grid">
        <div class="ph" role="img" aria-label="作業風景"></div>
        <div>
          <h2 id="about-heading">地域に支えられて、これからも。</h2>
          <p>ご家庭の水回りから施設・公共まで。工事の大小を問わず、誠実に、丁寧に。創業年や許認可等の基本情報は、詳細ページで簡潔に。</p>
          <div class="btn-row btn-row--left">
            <a class="btn ghost" href="/company.html">私たちについて</a>
          </div>
        </div>
      </div>
    </section>

    <section class="section" aria-labelledby="services-heading">
      <div class="container">
        <h2 id="services-heading" style="margin-bottom:24px">サービス</h2>
        <div class="svc-grid" role="list">
          <a class="svc" href="/services/plumbing" role="listitem">
            <span class="ico">W</span>
            <h3>給排水衛生設備</h3>
            <p>設計・施工・メンテ</p>
          </a>
          <a class="svc" href="/services/hvac" role="listitem">
            <span class="ico">A</span>
            <h3>空調設備</h3>
            <p>快適性と省エネ</p>
          </a>
          <a class="svc" href="/services/waterworks" role="listitem">
            <span class="ico">S</span>
            <h3>上下水道</h3>
            <p>公共・民間に対応</p>
          </a>
          <a class="svc" href="/services/renovation" role="listitem">
            <span class="ico">R</span>
            <h3>リフォーム</h3>
            <p>水回り・内装</p>
          </a>
        </div>
        <div class="btn-row" style="justify-content:center; margin-top:28px">
          <a class="btn ghost" href="/services.html">サービスについて</a>
        </div>
      </div>
    </section>

    <section class="section" aria-labelledby="works-heading">
      <div class="container works-grid">
        <div class="ph" role="img" aria-label="施工事例写真"></div>
        <div>
          <h2 id="works-heading">頼んでよかった、と言われる仕事に。</h2>
          <p>人物や手元の写真で、技術と人柄を可視化。説明は最小限、写真で伝える構成。</p>
          <div class="btn-row btn-row--left">
            <a class="btn ghost" href="/portfolio.html">施工実績を見る</a>
          </div>
        </div>
      </div>
    </section>

    <section class="section" aria-labelledby="news-heading">
      <div class="container">
        <h2 id="news-heading" style="margin-bottom:24px">お知らせ</h2>
        <div class="news-grid">
          <article class="news">
            <div class="thumb" role="img" aria-label="お知らせサムネイル"></div>
            <time datetime="2025-08-21">2025.08.21</time>
            <h3>夏季休業のお知らせ（サンプル）</h3>
          </article>
          <article class="news">
            <div class="thumb" role="img" aria-label="お知らせサムネイル"></div>
            <time datetime="2025-06-10">2025.06.10</time>
            <h3>施工実績を追加しました（サンプル）</h3>
          </article>
          <article class="news">
            <div class="thumb" role="img" aria-label="お知らせサムネイル"></div>
            <time datetime="2025-05-01">2025.05.01</time>
            <h3>採用情報更新のお知らせ（サンプル）</h3>
          </article>
          <article class="news">
            <div class="thumb" role="img" aria-label="お知らせサムネイル"></div>
            <time datetime="2025-04-18">2025.04.18</time>
            <h3>ブログを更新しました（サンプル）</h3>
          </article>
        </div>
        <div class="btn-row" style="justify-content:center; margin-top:28px">
          <a class="btn ghost" href="/news.html">お知らせ一覧へ</a>
        </div>
      </div>
    </section>

    <section class="section" aria-labelledby="recruit-heading">
      <div class="container recruit">
        <div>
          <h2 id="recruit-heading">正社員 募集中</h2>
          <p class="note">地域密着の現場で、一緒に働きませんか。未経験の方も歓迎。<br>募集要項は採用ページへ。</p>
          <div class="btn-row btn-row--left">
            <a class="btn" href="/recruit.html">採用情報を見る</a>
          </div>
        </div>
        <div class="ph" role="img" aria-label="社員写真"></div>
      </div>
    </section>

    <footer class="footer" role="contentinfo">
      <div class="container">
        <nav class="footer-nav" aria-label="フッターナビゲーション">
          <a href="/company.html">会社概要</a>
          <a href="/services.html">事業内容</a>
          <a href="/portfolio.html">施工実績</a>
          <a href="/recruit.html">採用情報</a>
          <a href="/news.html">お知らせ</a>
          <a href="/contact.html">お問い合わせ</a>
        </nav>

        <div class="foot-flex">
          <div>
            <div class="tel">📞 0858-22-7571</div>
            <div class="note">9:00–17:00（第２、第４土、日祝・年末年始を除く）</div>
          </div>
          <div style="justify-self:end">
            <a class="btn" href="/contact.html">お問い合わせ</a>
          </div>
        </div>
      </div>
      <div class="container"
        style="color:var(--muted); display:flex; align-items:center; gap:12px; justify-content:space-between; flex-wrap:wrap">
        <small>© Hayata Setsubi Co., Ltd.</small>
      </div>
    </footer>

    <!-- ===== JS（そのまま） ===== -->
    <script>
      (function () {
        const menu = document.getElementById('site-menu');
        const header = document.querySelector('.header');
        const hero = document.querySelector('.hero');
        if (!menu || !header) return;

        menu.querySelectorAll('.nav__panel .nav__link').forEach(a => {
          a.addEventListener('click', () => { menu.open = false; });
        });
        const backdrop = menu.querySelector('.nav__backdrop');
        if (backdrop) { backdrop.addEventListener('click', () => { menu.open = false; }); }
        document.addEventListener('keydown', (e) => {
          if (e.key === 'Escape' && menu.open) { menu.open = false; }
        });

        if (window.innerWidth <= 900 && hero) {
          const enableIO = !!window.IntersectionObserver;
          if (enableIO) {
            const io = new IntersectionObserver(
              ([entry]) => { header.classList.toggle('scrolled', entry.intersectionRatio < 0.7); },
              { root: null, threshold: [0, 0.7, 1] }
            );
            io.observe(hero);
          } else {
            const apply = () => {
              const y = window.scrollY || window.pageYOffset || 0;
              header.classList.toggle('scrolled', y > 10);
            };
            apply();
            window.addEventListener('scroll', apply, { passive: true });
          }
        }
      })();

      const closeBtn = document.querySelector('.nav__close');
      if (closeBtn) {
        closeBtn.addEventListener('click', () => {
          const menu = document.getElementById('site-menu');
          if (menu) menu.open = false;
        });
      }

      const root = document.documentElement;
      const hero = document.querySelector('.hero');
      const enableIO = !!window.IntersectionObserver;
      const show = () => root.classList.add('show-toggle');
      const hide = () => root.classList.remove('show-toggle');

      if (hero && enableIO) {
        const io2 = new IntersectionObserver(
          ([entry]) => { entry.intersectionRatio < 0.7 ? show() : hide(); },
          { root: null, threshold: [0, 0.7, 1] }
        );
        io2.observe(hero);
      } else {
        const onScroll = () => { (window.scrollY || window.pageYOffset || 0) > 120 ? show() : hide(); };
        onScroll();
        window.addEventListener('scroll', onScroll, { passive: true });
      }

      (() => {
        const menu = document.getElementById('site-menu');
        const root = document.documentElement;
        const masthead = document.querySelector('.masthead');
        const close = () => { if (menu) menu.open = false; };
        menu?.querySelectorAll('.nav__panel .nav__link').forEach(a => a.addEventListener('click', close));
        menu?.querySelector('.nav__backdrop')?.addEventListener('click', close);
        menu?.querySelector('.nav__close')?.addEventListener('click', close);
        document.addEventListener('keydown', e => { if (e.key === 'Escape' && menu?.open) close(); });

        const show = () => root.classList.add('show-toggle');
        const hide = () => root.classList.remove('show-toggle');
        if (masthead && 'IntersectionObserver' in window) {
          const io = new IntersectionObserver(([ent]) => {
            ent.intersectionRatio < 0.7 ? show() : hide();
          }, { threshold: [0, 0.7, 1] });
          io.observe(masthead);
        } else {
          const onScroll = () => (window.scrollY || 0) > 120 ? show() : hide();
          onScroll(); window.addEventListener('scroll', onScroll, { passive: true });
        }

        document.querySelector('.scroll-cue')?.addEventListener('click', () => {
          const next = document.querySelector('.masthead').nextElementSibling;
          next?.scrollIntoView({ behavior: 'smooth' });
        });
      })();
    </script>
    <script>
      (() => {
        const root = document.getElementById('fv');
        const slides = Array.from(document.querySelectorAll('.fv-slide'));
        const dots = Array.from(document.querySelectorAll('.fv-dot'));
        let i = 0, timer = null, paused = false;
        const DURATION = 6000; // 表示時間

        const go = (next) => {
          slides[i].classList.remove('is-active');
          dots[i].classList.remove('is-active');
          i = (next + slides.length) % slides.length;
          slides[i].classList.add('is-active');
          dots[i].classList.add('is-active');
        };

        const play = () => {
          if (timer) clearInterval(timer);
          timer = setInterval(() => go(i + 1), DURATION);
          paused = false;
          root.classList.remove('is-paused');
        };

        const pause = () => {
          if (timer) clearInterval(timer);
          paused = true;
          root.classList.add('is-paused');
        };

        // 自動再生
        play();

        // ページャ
        dots.forEach((dot, idx) => {
          dot.addEventListener('click', () => { go(idx); play(); }, { passive: true });
        });

        // クリックで一時停止/再開（コピーやボタン以外）
        root.addEventListener('click', (e) => {
          const t = e.target;
          if (t.closest('.fv__copy') || t.closest('a')) return;
          paused ? play() : pause();
        });

        // タブ非表示時は一時停止
        document.addEventListener('visibilitychange', () => {
          document.hidden ? pause() : play();
        });

        // キーボード操作（左右）
        window.addEventListener('keydown', (e) => {
          if (e.key === 'ArrowRight') { go(i + 1); pause(); }
          if (e.key === 'ArrowLeft') { go(i - 1); pause(); }
        });
      })();
    </script>
    <script>
      // マスコットをFVセクションの直後に出したり、元へ戻したりする
      (function () {
        const mq = window.matchMedia('(max-width: 899px)');
        const fv = document.querySelector('.masthead .fv');
        const inner = document.querySelector('.masthead .fv .fv__inner');
        const side = document.querySelector('.masthead .fv .fv__side');
    
        if (!fv || !inner || !side) return;
    
        // マスコット一時退避先（FVの直後）
        let slot = document.getElementById('fv-mascot-slot');
        if (!slot) {
          slot = document.createElement('div');
          slot.id = 'fv-mascot-slot';
          // アクセシビリティ的には装飾だが、ここはそのまま
          fv.insertAdjacentElement('afterend', slot);
        }
    
        const moveBelow = () => {
          // FVの直後（slotの中）へ移動
          slot.appendChild(side);
          side.classList.add('is-below');
        };
    
        const moveBack = () => {
          // 元の .fv__inner の末尾へ戻す（右下オーバーレイ）
          inner.appendChild(side);
          side.classList.remove('is-below');
        };
    
        const apply = (e) => {
          if (mq.matches) {
            moveBelow();
          } else {
            moveBack();
          }
        };
    
        // 初期適用
        apply();
    
        // 画面幅が変わったら切り替え
        mq.addEventListener ? mq.addEventListener('change', apply) : mq.addListener(apply);
        window.addEventListener('orientationchange', apply, { passive: true });
      })();
    </script>
    
</body>

</html>