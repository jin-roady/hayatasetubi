/* =========================================
   Hayata Setsubi - Unified Styles (All-in-One)
   - Desktop: horizontal nav
   - Mobile: burger + overlay panel
   - Fixed: background transparency (no bleed-through)
========================================= */

/* ============ 0) Tokens & Base ============ */
:root{
  --brand:#1e6bb8;
  --brand-dark:#16508c;
  --ink:#1f2a37;
  --muted:#6b7280;
  --bg:#ffffff;
  --soft:#f8fafc;
  --border-color:#e5e7eb;
  --ph-bg:#e4f2ff;
  --ph-ink:#1e6bb8;
  --radius-md:12px;
  --radius-lg:16px;
  --gap-xl:clamp(24px,4vw,40px);
}

*{box-sizing:border-box}
html,body{height:100%}
html{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;scroll-behavior:smooth}
body{
  margin:0;background:var(--bg);color:var(--ink);
  font-family:"Noto Sans JP",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Hiragino Kaku Gothic ProN","Yu Gothic","Meiryo",sans-serif;
  line-height:1.8;letter-spacing:.02em;
}
img,video,iframe{max-width:100%;height:auto;display:block}
a{text-decoration:none;color:inherit;transition:color .2s ease}
p{margin:.6em 0}
p,td,th{overflow-wrap:anywhere;word-break:break-word}
h1,h2,h3{margin:0 0 .5em;line-height:1.4;font-weight:700}
h1{font-size:clamp(28px,4.2vw,44px);font-weight:800;line-height:1.25}
h2{font-size:clamp(20px,2.6vw,28px)}
h3{font-size:clamp(16px,2vw,20px)}

/* ============ 1) Layout Helpers ============ */
.container{width:min(1120px,92vw);margin-inline:auto}
.container--narrow{width:min(820px,92vw);margin-inline:auto}
.container--wide{width:min(1100px,94vw);margin-inline:auto}
.section{padding:clamp(48px,9vw,100px) 0}
.section--slim{padding:clamp(36px,8vw,80px) 0}
.section--soft{background:var(--soft);border-block:1px solid var(--border-color)}
.t-center{text-align:center}
.stack-xl{display:grid;gap:clamp(24px,4vw,40px)}
.stack-md{display:grid;gap:clamp(12px,2vw,20px)}

.grid-2{display:grid;grid-template-columns:1.2fr .8fr;gap:clamp(20px,4vw,40px);align-items:start}
.grid-2>*{min-width:0}
.about-grid, .works-grid{
    display:grid; grid-template-columns:1.1fr .9fr; gap:clamp(20px,4vw,40px); align-items:center
}

.card-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:16px}
.card{display:grid;gap:8px}
.card .meta{color:var(--muted);font-size:14px}

/* ============ 2) Global UI ============ */
.header{
  position:sticky;top:0;z-index:1000;
  padding:18px 0;border-bottom:1px solid var(--border-color);
  background:rgba(255,255,255,.9);backdrop-filter:saturate(120%) blur(6px);
}
.hdr-flex{display:flex;align-items:center;justify-content:space-between;gap:16px}
.brand{display:flex;align-items:center;gap:12px;font-weight:800;color:var(--brand)}
.brand-badge{width:34px;height:34px;border:2px solid var(--brand);border-radius:10px;display:grid;place-items:center}

/* Pills */
.category-nav,.pill-row{display:flex;gap:10px;flex-wrap:wrap;justify-content:center;padding:0;list-style:none;margin:0}
.pill{padding:8px 16px;border-radius:999px;border:1px solid var(--border-color);background:#fff;font-weight:700;font-size:14px;box-shadow:0 2px 4px rgba(0,0,0,.03)}

/* Buttons */
.btn{
  display:inline-flex;align-items:center;justify-content:center;gap:8px;
  padding:12px 28px;border-radius:999px;font-weight:700;
  border:1px solid var(--brand);color:#fff;background:var(--brand);
  transition:all .2s ease;
}
.btn:hover{transform:translateY(-2px);box-shadow:0 8px 16px rgba(30,107,184,.2);background:var(--brand-dark)}
.btn.ghost{background:transparent;color:var(--brand);border-color:var(--brand)}
.btn.ghost:hover{background:var(--ph-bg);color:var(--brand-dark)}
.btn--large{padding:14px 36px;font-size:1.1em}
.btn--lg{padding:14px 18px;font-weight:800}
.btn-row{display:flex;justify-content:center;gap:12px;flex-wrap:wrap;margin-top:24px}

/* Placeholders & visuals */
.hero-visual,.ph,.thumb{
  background:var(--ph-bg);color:var(--ph-ink);display:flex;align-items:center;justify-content:center;
  text-align:center;font-weight:700;border-radius:var(--radius-lg);overflow:hidden;width:100%;
}
.hero-visual{aspect-ratio:16/9}
.ph,.thumb{aspect-ratio:4/3}
.thumb{border-radius:10px}
.ph-content{ display:flex; flex-direction:column; gap:6px; align-items:center }
.ph-icon{ font-size:28px; line-height:1 }
.ph-label{ font-size:14px; color:var(--brand); font-weight:700 }


/* Type helpers */
.eyebrow{letter-spacing:.1em;font-weight:700;font-size:14px;color:var(--muted);margin-bottom:8px}
.h2-slim{font-size:clamp(24px,3.2vw,36px);font-weight:700;text-align:center;margin-bottom:1em}
.breadcrumbs{color:var(--muted);font-size:14px;margin:8px 0 0}

/* Tables */
.info-table{
  width:100%;border-collapse:collapse;font-size:16px;border:1px solid var(--border-color);
  border-radius:var(--radius-md);overflow:hidden;
}
.info-table th,.info-table td{padding:14px 16px;border-bottom:1px solid var(--border-color)}
.info-table tr:last-child th,.info-table tr:last-child td{border-bottom:none}
.info-table th{width:25%;background:var(--soft);color:#334155;text-align:left;font-weight:700}

/* Timeline */
.timeline{border-left:3px solid var(--brand);padding-left:18px;display:grid;gap:12px}
.timeline li{list-style:none}
.timeline .year{font-weight:800;color:var(--brand)}

/* CTA boxes */
.cta-band,.recruit{
  background:linear-gradient(0deg,#f8fafc,#ffffff);border:1px solid var(--border-color);
  border-radius:var(--radius-lg);padding:clamp(20px,3vw,28px);
  display:grid;grid-template-columns:1.2fr .8fr;gap:clamp(16px,3vw,24px);align-items:center;
}
.cta-minimal,.cta-box{
  text-align:center;border:1px solid var(--border-color);border-radius:var(--radius-lg);
  padding:clamp(32px,5vw,48px);background:var(--soft);
}
.cta-box__title{font-size:clamp(22px,3vw,28px);font-weight:900;margin-bottom:12px}
.cta-box__text{color:var(--muted);margin-bottom:24px;max-width:500px;margin-inline:auto}

/* Footer */
.footer{
  padding:48px 0;border-top:1px solid var(--border-color);
  background:#111827;color:#d1d5db;
}
.footer .brand,.footer .tel,.footer small,.footer .note{color:#d1d5db}
.footer .brand-badge,.footer .btn.ghost{border-color:#4b5563}
.footer .btn.ghost:hover{background:#374151;color:#fff}
.foot-flex{display:grid;grid-template-columns:1fr;gap:24px;align-items:center}
@media (min-width:720px){.foot-flex{grid-template-columns:1fr auto}}
.tel{font-size:clamp(22px,3.2vw,28px);font-weight:800}
.note{color:var(--muted)}

/* ============ 3) Page Specific / Shared Sections ============ */
.hero{padding:clamp(48px,9vw,80px) 0;background:linear-gradient(180deg,#fff,var(--soft))}
.hero__title{font-size:clamp(32px,5vw,48px);font-weight:900;line-height:1.3;letter-spacing:-.01em}
.hero__lead{font-size:clamp(16px,2.2vw,18px);color:#334155;margin:1em auto 2em;max-width:600px}

/* SERVICES */
.svc-grid{ display:grid; grid-template-columns:repeat(4,1fr); gap:18px }
.svc{
    display:grid; gap:10px; padding:18px; border:1px solid #e5e7eb; border-radius:12px; background:#fff;
    justify-items:start;
}
.ico{
    width:42px; height:42px; border:2px solid var(--brand); border-radius:10px;
    display:grid; place-items:center; color:var(--brand); font-weight:800;
}
.svc p{ color:var(--muted); margin:0 }

/* NEWS */
.news-grid{ display:grid; grid-template-columns:repeat(4,1fr); gap:16px }
.news{ display:grid; gap:8px }
.news time{ color:var(--muted); font-size:14px }

/* ============ 5) Header & Navigation ============ */
.nav{font-weight:700}
.nav__list{display:flex;gap:24px;align-items:center;list-style:none;margin:0;padding:0}
.nav__link{position:relative;display:inline-block;padding:10px 0;transition:color .2s ease}
.nav__link:hover,.nav__link:focus-visible{color:var(--brand)}
@media (min-width:901px){
  .nav__link::after{
    content:"";position:absolute;left:0;bottom:-6px;height:2px;width:0;background:var(--brand);
    transition:width .25s ease;border-radius:2px
  }
  .nav__link:hover::after,.nav__link[aria-current="page"]::after{width:100%}
}

/* details/summary reset */
.menu{position:relative}
.menu>summary.nav__toggle{list-style:none;cursor:pointer;display:none}
.menu>summary.nav__toggle::-webkit-details-marker{display:none}

/* Desktop */
@media (min-width:901px){
  .menu>summary.nav__toggle{display:none !important}
  .menu>.nav__sheet{display:none !important}
  .menu>.nav__list{display:flex !important}
}

/* Mobile toggle button */
@media (max-width:900px){
  .menu>summary.nav__toggle{
    display:inline-flex;align-items:center;gap:10px;padding:10px 12px;
    border:1px solid var(--border-color);border-radius:12px;background:#fff;color:var(--ink);
    -webkit-tap-highlight-color:transparent;user-select:none;transition:background .2s ease,border-color .2s ease;
  }
  .menu>summary.nav__toggle:hover{background:#f8fafc}
  .menu>summary.nav__toggle:focus-visible{
    outline:3px solid color-mix(in oklab,var(--brand) 35%, white);outline-offset:3px
  }
  .nav__label{font-weight:800;letter-spacing:.06em;font-size:13px;color:var(--muted)}
}

/* Burger icon */
.burger{position:relative;width:22px;height:16px;display:inline-grid;align-items:center}
.burger__bar{
  display:block;height:2px;background:currentColor;border-radius:2px;transition:transform .25s ease,opacity .2s ease,top .25s ease;
}
.burger__bar:nth-child(1){position:absolute;top:0;left:0;right:0}
.burger__bar:nth-child(2){position:absolute;top:7px;left:0;right:0}
.burger__bar:nth-child(3){position:absolute;top:14px;left:0;right:0}

/* open -> X */
.menu[open] > summary .burger__bar:nth-child(1){top:7px;transform:rotate(45deg)}
.menu[open] > summary .burger__bar:nth-child(2){opacity:0}
.menu[open] > summary .burger__bar:nth-child(3){top:7px;transform:rotate(-45deg)}

/* Mobile overlay & panel */
@media (max-width:900px){
  .nav__list{display:none} /* base hide */
  .menu>.nav__sheet{display:none}
  .menu[open]>.nav__sheet{
    display:block !important;position:fixed;inset:0;z-index:1200;isolation:isolate;
  }

  /* 背景を“必ず”不透明で覆う（ヘッダーの backdrop-filter 影響外に置く） */
  html:has(.menu[open])::before{
    content:"";position:fixed;inset:0;background:#fff;z-index:1100;
  }

  /* nav__backdrop は無効化（透け防止） */
  .nav__backdrop{
    position:absolute;inset:0;background:transparent !important;
    -webkit-backdrop-filter:none !important;backdrop-filter:none !important;
  }

  .nav__panel{
    position:absolute;top:0;right:0;bottom:0;width:min(88vw,340px);
    background:#fff;border-left:1px solid #eef2f7;padding:18px 16px 20px;
    box-shadow:-16px 0 40px rgba(0,0,0,.18);
    display:grid;align-content:start;gap:8px;
    z-index:1210; /* 背景より前面に固定 */
    animation:navSlideIn .26s cubic-bezier(.2,.7,.2,1) both;
  }
  .nav__panel .nav__list{display:grid !important;gap:6px;margin:6px 0 0;padding:0;list-style:none}
  .nav__panel .nav__link{
    display:flex;align-items:center;justify-content:space-between;gap:10px;
    padding:12px 10px;border-radius:10px;border:1px solid transparent;
    transition:background .18s ease,border-color .18s ease
  }
  .nav__panel .nav__link:hover{background:#f5f7fb}
  .nav__panel .nav__link[aria-current="page"]{background:#eef6ff;border-color:#dbeafe}
  .nav__panel .nav__link::after{content:"›";font-size:18px;color:#94a3b8;transform:translateX(0);transition:transform .2s ease}
  .nav__panel .nav__link:hover::after{transform:translateX(2px)}
}

/* Focus ring */
.nav__toggle:focus-visible,.nav__link:focus-visible{
  outline:3px solid color-mix(in oklab,var(--brand) 40%,white);outline-offset:3px;border-radius:10px
}

/* Animations */
@keyframes navSlideIn{from{transform:translateX(8%);opacity:0}to{transform:translateX(0);opacity:1}}
@media (prefers-reduced-motion:reduce){
  .nav__panel,.burger__bar{animation:none !important;transition:none !important}
}

/* Prevent scroll while nav open (supported browsers) */
html:has(.menu[open]){overflow:hidden}

/* ============ 6) Media Queries (shared) ============ */
@media (max-width:900px){
  .grid-2, .about-grid, .works-grid, .cta-band, .recruit{grid-template-columns:1fr}
  .card-grid{grid-template-columns:repeat(2,1fr)}
  .svc-grid{ grid-template-columns:repeat(2,1fr) }
  .news-grid{ grid-template-columns:repeat(2,1fr) }
}
@media (max-width:720px){
  .card-grid{grid-template-columns:1fr}
  .foot-flex{grid-template-columns:1fr}
}
@media (max-width:560px){
  .svc-grid{ grid-template-columns:1fr }
  .news-grid{ grid-template-columns:1fr }
}

/* ============ 7) Works helpers ============ */
.thumb span{padding:0 12px}
.card h3{margin:0;font-size:16px}

/* ============ 8) Hero text backdrop (optional) ============ */
.hero-wrap{position:relative}
.hero-text{position:absolute;inset:auto 0 6% 0;display:grid;gap:10px;padding:0 4vw;text-align:left}
.hero .sub{color:var(--muted);max-width:60ch}
@supports (backdrop-filter:blur(6px)){
  .hero-text{
    width:max-content;max-width:min(90vw,720px);
    background:rgba(255,255,255,.55);backdrop-filter:blur(6px);
    border-radius:12px;padding:14px 16px;
  }
}

/* ============ 11) Print ============ */
@media print{
  .header,.footer,.nav,.btn,.nav__toggle{display:none!important}
  body{background:#fff!important;color:#000!important}
  .container{width:100%!important;margin:0}
}
body { background: red !important; }